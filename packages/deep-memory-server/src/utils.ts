export function clamp(value: number, min: number, max: number): number {
  if (!Number.isFinite(value)) {
    return min;
  }
  return Math.max(min, Math.min(max, value));
}

export function safeTrim(value: unknown): string {
  return typeof value === "string" ? value.trim() : "";
}

export function stableHash(input: string): string {
  // Cheap stable hash for ids; not cryptographic.
  let h = 2166136261;
  for (let i = 0; i < input.length; i += 1) {
    h ^= input.charCodeAt(i);
    h = Math.imul(h, 16777619);
  }
  return (h >>> 0).toString(16);
}
